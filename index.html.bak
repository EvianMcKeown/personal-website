<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Evian McKeown // Developer</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.2/pixi.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pixi-filters@5.2.1/dist/pixi-filters.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/photoswipe@5.4.3/dist/photoswipe.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          borderRadius: { 'bubble': '24px', 'bubbleinner': '16px' },
          colors: { 'soft-bg': '#fdfaf5', 'accent-purple': '#a29bfe' }
        }
      }
    }
  </script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap');

    body {
      /*background-color: #fdfaf5;*/
      font-family: 'Quicksand', sans-serif;
      scroll-behavior: smooth;
      margin: 0;
      background: #000;
      overflow: hidden;
    }

    canvas {
      display: block;
      width: 100vw;
      height: 100vh;
    }

    /* The Bubbly Shadow Effect */
    .bubble-card {
      box-shadow: 8px 8px 0px 0px rgba(0, 0, 0, 1);
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .bubble-card:hover {
      transform: translate(-4px, -4px);
      box-shadow: 12px 12px 0px 0px rgba(0, 0, 0, 1);
    }

    /* Customizing PhotoSwipe background to match site */
    .pswp {
      --pswp-bg: #fdfaf5;
    }
  </style>
</head>

<body class="text-slate-900 p-6 md:p-12">
  <canvas id="canvas"></canvas>

  <div class="max-w-4xl mx-auto">

    <header class="text-center mb-20">
      <h1 class="text-5xl font-bold tracking-tight mb-4">Evian McKeown</h1>
      <nav class="flex justify-center gap-4">
        <a href="#about"
          class="px-5 py-2 bg-white hover:bg-stone-200 border-2 border-black rounded-full font-bold bubble-card text-sm">About</a>
        <a href="#work"
          class="px-5 py-2 bg-white hover:bg-stone-200 border-2 border-black rounded-full font-bold bubble-card text-sm">Projects</a>
        <a href="#film"
          class="px-5 py-2 bg-white hover:bg-stone-200 border-2 border-black rounded-full font-bold bubble-card text-sm">Gallery</a>
      </nav>
    </header>

    <section id="about" class="bg-white border-2 border-black rounded-bubble p-8 mb-16 bubble-card">
      <h2 class="text-2xl font-bold mb-4 italic">About Me</h2>
      <p class="text-lg leading-relaxed opacity-80">
        I'm a Computer Science graduate.
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua.
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex.
      </p>
    </section>

    <h2 id="work" class="text-3xl font-bold mb-8 ml-4 uppercase tracking-tighter">Projects</h2>
    <div class="grid grid-cols-1 gap-8 mb-20">
      <div class="bg-white border-2 border-black rounded-bubble p-6 bubble-card">
        <span class="text-xs font-bold uppercase bg-yellow-300 px-2 py-1 rounded-xl border border-black">Python</span>
        <span class="text-xs font-bold uppercase bg-green-300 px-2 py-1 rounded-xl border border-black">Django</span>
        <span class="text-xs font-bold uppercase bg-orange-300 px-2 py-1 rounded-xl border border-black">REST-API</span>
        <h3 class="text-xl font-bold mt-4 mb-2">Public Transportation Journey Planner</h3>
        <p class="text-sm opacity-70 mb-6">A Django-based web-application for planning journeys on public transport
          using GTFS data.
        </p>
        <a href="assets/images/10.JPG" data-pswp-width="1500" data-pswp-height="1000" target="_blank"
          class="block overflow-hidden rounded-bubble border bg-black relative p-2 border-2 border-neutral-800  mt-4 mb-4">
          <img src="assets/images/10.JPG" alt="Film photograph" class="w-full h-86 object-cover rounded-bubbleinner" />
        </a>
        <a href="https://github.com/EvianMcKeown/PublicTransportJourneyPlanner" class="font-bold underline">Github →</a>
      </div>
      <div class="bg-white border-2 border-black rounded-bubble p-6 bubble-card">
        <span class="text-xs font-bold uppercase bg-yellow-300 px-2 py-1 rounded-xl border border-black">Python</span>
        <span class="text-xs font-bold uppercase bg-blue-300 px-2 py-1 rounded-xl border border-black">Pygame</span>
        <span class="text-xs font-bold uppercase bg-purple-300 px-2 py-1 rounded-xl border border-black">Tkinter</span>
        <h3 class="text-xl font-bold mt-4 mb-2">Top Farmer - Code Game</h3>
        <p class="text-sm opacity-70 mb-6">Game designed to teach fundamental concepts of programming languages to
          players.</p>
        <a href="#" class="font-bold underline">Github →</a>
      </div>
    </div>

    <h2 id="film" class="text-3xl font-bold mb-8 ml-4 uppercase tracking-tighter">Film Gallery</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4" id="film-gallery">

      <a href="assets/images/12.jpg" data-pswp-width="1500" data-pswp-height="1000" target="_blank"
        class="block overflow-hidden rounded-bubble border bg-white relative bg-white p-4 border-2 border-neutral-800">
        <img src="assets/images/12.jpg" alt="Film photograph" class="w-full h-72 object-cover" />
        <div class="grid grid-cols-2 gap-2 font-mono text-[10px] uppercase tracking-tighter ml-4 mr-4 mt-2 p-2">
          <div class="text-left">
            Olympus OM-1 // Zuiko 35mm f2.8
          </div>
          <div class="text-right">
            Kodak Ektachrome 100
          </div>
        </div>
      </a>

      <a href="assets/images/8.JPG" data-pswp-width="1500" data-pswp-height="1000" target="_blank"
        class="block overflow-hidden rounded-bubble border bg-white relative bg-white p-4 border-2 border-neutral-800">
        <img src="assets/images/8.JPG" alt="Film photograph" class="w-full h-72 object-cover" />
        <div class="grid grid-cols-2 gap-2 font-mono text-[10px] uppercase tracking-tighter ml-4 mr-4 mt-2 p-2">
          <div class="text-left">
            Olympus OM-1 // Zuiko 50mm f1.4
          </div>
          <div class="text-right">
            Ilford HP5+ 400
          </div>
        </div>
      </a>

      <a href="assets/images/6.JPG" data-pswp-width="1500" data-pswp-height="1000" target="_blank"
        class="block overflow-hidden rounded-bubble border bg-white relative bg-white p-4 border-2 border-neutral-800">
        <img src="assets/images/6.JPG" alt="Film photograph" class="w-full h-72 object-cover" />
        <div class="grid grid-cols-2 gap-2 font-mono text-[10px] uppercase tracking-tighter ml-4 mr-4 mt-2 p-2">
          <div class="text-left">
            Olympus OM-1 // Zuiko 50mm f1.4
          </div>
          <div class="text-right">
            Ilford HP5+ 400
          </div>
        </div>
      </a>

      <a href="assets/images/13.jpg" data-pswp-width="1500" data-pswp-height="1000" target="_blank"
        class="block overflow-hidden rounded-bubble border bg-white relative bg-white p-4 border-2 border-neutral-800">
        <img src="assets/images/13.jpg" alt="Film photograph" class="w-full h-72 object-cover" />
        <div class="grid grid-cols-2 gap-2 font-mono text-[10px] uppercase tracking-tighter ml-4 mr-4 mt-2 p-2">
          <div class="text-left">
            Olympus OM-1 // Zuiko 135mm f2.8
          </div>
          <div class="text-right">
            Kodak Ektachrome 100
          </div>
        </div>
      </a>

    </div>

    <footer class="mt-32 pt-12 border-t-2 border-black border-dashed text-center pb-12">
      <p class="font-bold mb-4 underline uppercase tracking-widest text-sm">Blogroll</p>
      <div class="flex justify-center gap-6 text-sm opacity-60">
        <a href="#" class="hover:text-accent-purple">Yesterday's Web</a>
        <a href="#" class="hover:text-accent-purple">Analog Insights</a>
        <a href="#" class="hover:text-accent-purple">Low-Tech Magazine</a>
      </div>
      <p class="mt-12 text-xs opacity-40 italic">Evian McKeown • 2026</p>
    </footer>

  </div>

  <script type="module">
    import PhotoSwipeLightbox from 'https://unpkg.com/photoswipe@5.4.3/dist/photoswipe-lightbox.esm.js';

    const lightbox = new PhotoSwipeLightbox({
      gallery: '#film-gallery',
      children: 'a',
      pswpModule: () => import('https://unpkg.com/photoswipe@5.4.3/dist/photoswipe.esm.js')
    });

    lightbox.init();
  </script>

  <script>
    // Since we are using scripts instead of modules, we use window.onload
    window.onload = () => {
        class LyricsScene {
            constructor(canvas, imageSource) {
                this.app = new PIXI.Application({
                    width: window.innerWidth,
                    height: window.innerHeight,
                    view: canvas,
                    backgroundAlpha: 0,
                    resolution: window.devicePixelRatio || 1,
                    autoDensity: true,
                });

                this.container = new PIXI.Container();
                this.app.stage.addChild(this.container);

                // Use PIXI.Sprite.from to match your TS exactly
                const sprites = Array(4).fill(null).map(() => PIXI.Sprite.from(imageSource));
                
                this.addSpritesToContainer(sprites);

                // 1. Setup Blur (Core PIXI)
                const blurFilters = [
                    new PIXI.BlurFilter(100, 10, 1, 15)
                ];

                // 2. Setup Twist (From the Filter Bundle)
                // In the bundle, filters are inside PIXI.filters
                const twist = new PIXI.filters.TwistFilter({
                    angle: -3.25,
                    radius: 900,
                    offset: new PIXI.Point(
                        this.app.renderer.screen.width / 2,
                        this.app.renderer.screen.height / 2
                    ),
                });

                // 3. Setup Saturation (AdjustmentFilter)
                const saturate = new PIXI.filters.AdjustmentFilter({
                    saturation: 2.75,
                });

                // Match filter order exactly
                this.container.filters = [twist, ...blurFilters, saturate];

                this.app.ticker.add(() => {
                    const n = this.app.ticker.deltaMS / 33.333333;
                    
                    sprites[0].rotation += 0.003 * n;
                    sprites[1].rotation -= 0.008 * n;
                    
                    sprites[2].rotation -= 0.006 * n;
                    sprites[2].x = this.app.screen.width / 2 +
                        (this.app.screen.width / 4) * Math.cos(sprites[2].rotation * 0.75);
                    sprites[2].y = this.app.screen.height / 2 +
                        (this.app.screen.width / 4) * Math.sin(sprites[2].rotation * 0.75);
                    
                    sprites[3].rotation += 0.004 * n;
                    const orbitOffset = (this.app.screen.width / 2) * 0.1;
                    sprites[3].x = this.app.screen.width / 2 + orbitOffset +
                        (this.app.screen.width / 4) * Math.cos(sprites[3].rotation * 0.75);
                    sprites[3].y = this.app.screen.height / 2 + orbitOffset +
                        (this.app.screen.width / 4) * Math.sin(sprites[3].rotation * 0.75);

                    // Keep twist center updated
                    twist.offset.x = this.app.screen.width / 2;
                    twist.offset.y = this.app.screen.height / 2;
                });
            }

            addSpritesToContainer(sprites) {
                const [t, s, i, r] = sprites;
                
                sprites.forEach(sprite => sprite.anchor.set(0.5, 0.5));

                t.position.set(this.app.screen.width / 2, this.app.screen.height / 2);
                s.position.set(this.app.screen.width / 2.5, this.app.screen.height / 2.5);
                i.position.set(this.app.screen.width / 2, this.app.screen.height / 2);
                r.position.set(this.app.screen.width / 2, this.app.screen.height / 2);

                t.width = this.app.screen.width * 1.25;
                t.height = t.width;
                
                s.width = this.app.screen.width * 0.8;
                s.height = s.width;
                
                i.width = this.app.screen.width * 0.5;
                i.height = i.width;
                
                r.width = this.app.screen.width * 0.25;
                r.height = r.width;

                this.container.addChild(t, s, i, r);
            }
        }

        const canvas = document.getElementById("canvas");
        const scene = new LyricsScene(canvas, "https://upload.wikimedia.org/wikipedia/en/5/5a/Twenty_One_Pilots_-_Breach.png");
    };
</script>
</body>
</html>